(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{326:function(e,t,a){e.exports=a(652)},331:function(e,t,a){},651:function(e,t,a){},652:function(e,t,a){"use strict";a.r(t);var n=a(0),i=a.n(n),r=a(30),o=a.n(r),l=(a(331),a(20)),s=a(21),c=a(23),u=a(22),m=a(24),h=a(17),d=a(69),p=a(137),b=a.n(p),g=a(136),f=a.n(g),E=a(83),v=a.n(E),y=a(88),k=a.n(y),O=a(87),j=a.n(O),w=a(38),C=a.n(w),S=a(84),x=a.n(S),I=a(85),N=a.n(I),P=a(54),D=a.n(P),L=a(19),B=a.n(L),A=a(134),F=a(55),M=a(135),T=a.n(M),U=a(188),K=a.n(U),W=a(138),z=a.n(W),H=a(34),R=a.n(H),q=a(16),Q=(a(197),a(332),a(272)),J=a.n(Q),G=a(274),X=a.n(G),$=a(273),V=a.n($),Y=a(89),_=a(122),Z=a.n(_),ee=a(124),te=a.n(ee),ae=a(31),ne=a.n(ae),ie=a(123),re=a.n(ie),oe=a(86),le=a.n(oe),se=a(37),ce=a.n(se),ue=a(125),me=a.n(ue),he=a(126),de=a.n(he),pe=a(268),be=a.n(pe),ge=a(265),fe=a.n(ge),Ee=a(189),ve=a.n(Ee);ve.a.initializeApp({apiKey:"AIzaSyCalcsBPPiKqeweUkLttnlCX763LRP9jJ8",authDomain:"augie-book-market.firebaseapp.com",databaseURL:"https://augie-book-market.firebaseio.com",projectId:"augie-book-market",storageBucket:"augie-book-market.appspot.com",messagingSenderId:"596338877385"});var ye=ve.a,ke=a(52),Oe=a.n(ke),je=a(187),we=a.n(je),Ce=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(c.a)(this,Object(u.a)(t).call(this,e))).classes=e,a}return Object(m.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return i.a.createElement("div",null,i.a.createElement("div",{className:this.classes.searchdiv},i.a.createElement(Oe.a,{className:this.classes.input,onKeyUp:this.props.onKeyUp,placeholder:this.props.placeholder}),i.a.createElement(C.a,{className:this.classes.iconButton,onClick:this.props.onClick,"aria-label":"Search"},i.a.createElement(we.a,null))))}}]),t}(n.Component),Se=Object(q.withStyles)(function(e){return{root:{padding:"2px 4px",margin:"6px 6px",display:"flex",alignItems:"center",width:400},input:{marginLeft:8,flex:1},searchdiv:{position:"relative",float:"right"},iconButton:{padding:10},divider:{width:28,height:1,margin:4}}})(Ce),xe=a(25),Ie=a(267),Ne=a.n(Ie),Pe=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(c.a)(this,Object(u.a)(t).call(this,e))).props=e,a.state={isSignedIn:!1,number:0,name:""},a.uiConfig={signInFlow:"popup",signInOptions:[ye.auth.GoogleAuthProvider.PROVIDER_ID,ye.auth.EmailAuthProvider.PROVIDER_ID],callbacks:{signInSuccess:function(){return!1}}},a}return Object(m.a)(t,e),Object(s.a)(t,[{key:"componentWillMount",value:function(){var e=this;ye.auth().onAuthStateChanged(function(t){e.setState({isSignedIn:!!t})})}},{key:"render",value:function(){return i.a.createElement("div",null,this.state.isSignedIn?i.a.createElement("div",null,i.a.createElement("h1",null,"Logged In! Welcome ",ye.auth().currentUser.displayName),i.a.createElement(xe.a,{color:"primary",onClick:function(){return ye.auth().signOut()}},"Click to sign out")):i.a.createElement("div",null,i.a.createElement(xe.f,{variant:"body1"},"You are not signed in. Please sign in to join the market!"),i.a.createElement(Ne.a,{uiConfig:this.uiConfig,firebaseAuth:ye.auth()})))}}]),t}(n.Component),De=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(c.a)(this,Object(u.a)(t).call(this,e))).handleMenuClick=function(e){a.setState({anchorEl:e.currentTarget})},a.handleMenuClose=function(){a.setState({anchorEl:null})},a.classes=e,a.database=ye.database().ref().child("books"),a.state={books:[],booksQuery:"",finishedPulling:!1,anchorEl:null,isSignedIn:!1},a.getDataFromFirebase=a.getDataFromFirebase.bind(Object(h.a)(Object(h.a)(a))),a.handleMenuClick=a.handleMenuClick.bind(Object(h.a)(Object(h.a)(a))),a.handleMenuClose=a.handleMenuClose.bind(Object(h.a)(Object(h.a)(a))),a}return Object(m.a)(t,e),Object(s.a)(t,[{key:"getDataFromFirebase",value:function(){var e=this;this.database.once("value",function(t){t.forEach(function(t){var a=t.val(),n={id:t.key,title:a.title,author:a.author,price:a.price,owner:a.owner,onSale:a.onSale,isbn10:a.isbn10,isbn13:a.isbn13,dateCreated:a.dateCreated};e.setState({books:[].concat(Object(Y.a)(e.state.books),[n])})})}),console.log(this.state.books)}},{key:"updateDataFromFirebase",value:function(){var e=this;this.database.on("value",function(t){t.forEach(function(t){var a=t.val(),n={id:t.key,title:a.title,author:a.author,price:a.price,owner:a.owner,onSale:a.onSale,isbn10:a.isbn10,isbn13:a.isbn13,dateCreated:a.dateCreated};e.setState({books:[].concat(Object(Y.a)(e.state.books),[n])})})})}},{key:"componentDidUpdate",value:function(e,t){!this.state.finishedPulling&&Array.isArray(this.state.books)&&this.state.books.length&&this.setState({finishedPulling:!0})}},{key:"componentDidMount",value:function(){var e=this;ye.auth().onAuthStateChanged(function(t){e.setState({isSignedIn:!!t})}),this.getDataFromFirebase(),this.componentDidUpdate()}},{key:"render",value:function(){var e=this,t=Boolean(this.state.anchorEl),a=this.state.booksQuery?fe()(this.state.books.filter(function(t){return(t.title.toLowerCase().includes(e.state.booksQuery.toLowerCase())||t.author.toLowerCase().includes(e.state.booksQuery.toLowerCase())||t.isbn10.toLowerCase().includes(e.state.booksQuery.toLowerCase())||t.isbn13.toLowerCase().includes(e.state.booksQuery.toLowerCase()))&&t.onSale})):this.state.books.filter(function(e){return e.onSale});return console.log(this.state.isSignedIn),this.state.finishedPulling?i.a.createElement("div",null,i.a.createElement(ce.a,{className:this.classes.root},i.a.createElement(Se,{onKeyUp:function(t){e.setState({booksQuery:t.target.value})},placeholder:"Search"}),i.a.createElement(xe.b,{className:this.classes.divider}),i.a.createElement(Z.a,{className:this.classes.table},i.a.createElement(re.a,{className:this.classes.head},i.a.createElement(le.a,null,i.a.createElement(ne.a,null,"Title"),i.a.createElement(ne.a,null,"Author"),i.a.createElement(ne.a,null,"Owner"),i.a.createElement(ne.a,null,"Price"),i.a.createElement(ne.a,null,"Date Created"))),i.a.createElement(te.a,null,a.slice(0).reverse().map(function(a){return i.a.createElement(le.a,{key:a.id},i.a.createElement(ne.a,{component:"th",scope:"row"},a.title),i.a.createElement(ne.a,null,a.author),i.a.createElement(ne.a,null,a.owner),i.a.createElement(ne.a,null,a.price?a.price:0),i.a.createElement(ne.a,null,a.dateCreated),i.a.createElement(ne.a,null,i.a.createElement(C.a,{"aria-label":"More","aria-owns":t?"long-menu":void 0,"aria-haspopup":"true",onClick:e.handleMenuClick},i.a.createElement(be.a,null)),i.a.createElement(me.a,{id:"long-menu",anchorEl:e.state.anchorEl,open:t,onClose:e.handleMenuClose,PaperProps:{style:{maxHeight:216,width:200}}},i.a.createElement(de.a,{key:"Option",onClick:e.handleMenuClose},"Option"),"))}")))}),console.log(a))))):this.state.isSignedIn?i.a.createElement("div",null,"Loading..."):i.a.createElement(Pe,null)}}]),t}(n.Component),Le=Object(q.withStyles)(function(e){return{head:{backgroundColor:e.palette.common.black,color:e.palette.common.white},root:{width:"100%",marginTop:3*e.spacing.unit,overflowX:"auto"},table:{minWidth:700}}})(De),Be=a(269),Ae=a(190),Fe=a.n(Ae),Me=function(e){function t(e){return Object(l.a)(this,t),Object(c.a)(this,Object(u.a)(t).call(this,e))}return Object(m.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this.props,t=e.helperText,a=e.label,n=e.labelKey,r=e.fullWidth,o=e.error,l=e.renderSuggestionProps,s=e.selectClosestMatch,c=e.suggestionLimit,u=e.suggestions,m=e.fuzzyKeys,h=e.classes;return i.a.createElement(Fe.a,Object.assign({helperText:t,label:a,labelKey:n,fullWidth:r,error:o,renderSuggestionProps:l,selectClosestMatch:s,suggestionLimit:c,suggestions:u,fuzzySearchOpts:Object(Be.a)({},Ae.defaultProps.fuzzySearchOpts,{keys:m}),className:h.autosuggest},this.props))}}]),t}(n.Component),Te=(Object(q.withStyles)({autosuggest:{}})(Me),a(130)),Ue=a.n(Te),Ke=a(132),We=a.n(Ke),ze=a(131),He=a.n(ze),Re=a(127),qe=a.n(Re),Qe=a(128),Je=a.n(Qe),Ge=a(129),Xe=a.n(Ge),$e=a(270),Ve=a.n($e),Ye=a(133),_e=a.n(Ye),Ze=a(271),et=a.n(Ze),tt=Object(q.withStyles)({root:{border:"1px solid rgba(0,0,0,.125)",boxShadow:"none","&:not(:last-child)":{borderBottom:0},"&:before":{display:"none"}},expanded:{margin:"auto"}})(qe.a),at=Object(q.withStyles)({root:{backgroundColor:"rgba(0,0,0,.03)",borderBottom:"1px solid rgba(0,0,0,.125)",marginBottom:-1,minHeight:56,"&$expanded":{minHeight:56}},content:{"&$expanded":{margin:"12px 0"}},expanded:{}})(function(e){return i.a.createElement(Je.a,e)});at.muiName="ExpansionPanelSummary";var nt=Object(q.withStyles)(function(e){return{root:{padding:2*e.spacing.unit}}})(Xe.a),it=function(e){function t(e){var a;Object(l.a)(this,t),(a=Object(c.a)(this,Object(u.a)(t).call(this,e))).handleClose=function(e,t){"clickaway"!==t&&a.setState({open:!1})};var n=new Date,i=n.getMonth()+1+"/"+n.getDate()+"/"+n.getFullYear();return a.state={price:0,date:i,open:!1},a.props=e,a.onClickHandler=a.onClickHandler.bind(Object(h.a)(Object(h.a)(a))),a.pushToFirebase=a.pushToFirebase.bind(Object(h.a)(Object(h.a)(a))),a}return Object(m.a)(t,e),Object(s.a)(t,[{key:"pushToFirebase",value:function(e,t){ye.database().ref(e).push(t)}},{key:"componentDidUpdate",value:function(e,t){this.state.price,t.price}},{key:"onClickHandler",value:function(e){e.preventDefault();var t=this.props;this.pushToFirebase("books",{onSale:!0,title:t.title,author:t.author?t.author:"",isbn10:t.isbn10?t.isbn10:"",isbn13:t.isbn13?t.isbn13:"",snippet:t.snippet?t.snippet:"",thumbnail:t.thumbnail?t.thumbnail:"",price:this.state.price,owner:ye.auth().currentUser.displayName,dateCreated:this.state.date}),console.log(this.state.price),this.setState({open:!0})}},{key:"render",value:function(){var e=this,t=this.props.classes,a=this.props;return i.a.createElement(Ue.a,{className:t.card},i.a.createElement(tt,{id:"expansion-panel",square:!0,className:t.expansionPanel},i.a.createElement(at,{expandIcon:i.a.createElement(Ve.a,null)},i.a.createElement(B.a,{container:!0,spacing:8},i.a.createElement(B.a,{item:!0},i.a.createElement(He.a,{className:t.cover,image:a.thumbnail,title:a.title})),i.a.createElement("div",{className:t.details},i.a.createElement(We.a,{className:t.content},i.a.createElement(B.a,{item:!0,xs:12},i.a.createElement(R.a,{component:"h5",variant:"h5"},a.title)),i.a.createElement(B.a,{item:!0,xs:12},i.a.createElement(R.a,{variant:"subtitle1",color:"textSecondary"},a.author)),i.a.createElement(B.a,{item:!0,xs:12},i.a.createElement(R.a,{variant:"subtitle2",color:"textSecondary"},a.snippet)),i.a.createElement(B.a,{item:!0,xs:12},i.a.createElement(R.a,{variant:"subtitle2",color:"textSecondary"},"ISBN10: ",a.isbn10)),i.a.createElement(B.a,{item:!0,xs:12},i.a.createElement(R.a,{variant:"subtitle2",color:"textSecondary"},"ISBN13: ",a.isbn13)))))),i.a.createElement(nt,null,i.a.createElement(B.a,{container:!0,spacing:8},i.a.createElement(B.a,{item:!0,xs:3},i.a.createElement(xe.e,{id:"price",label:"Price",className:t.input,placeholder:a.placeholder,onKeyUp:function(t){e.setState({price:t.target.value})}})),i.a.createElement(B.a,{item:!0,xs:3},i.a.createElement(D.a,{variant:"contained",size:"large",color:"primary",className:t.margin,onClick:this.onClickHandler},"Upload Listing"))))),i.a.createElement(_e.a,{anchorOrigin:{vertical:"bottom",horizontal:"left"},open:this.state.open,autoHideDuration:6e3,onClose:this.handleClose,ContentProps:{"aria-describedby":"message-id"},message:i.a.createElement("span",{id:"message-id"},"Listing created"),action:[i.a.createElement(C.a,{key:"close","aria-label":"Close",color:"inherit",className:t.close,onClick:this.handleClose},i.a.createElement(et.a,null))]}))}}]),t}(n.Component),rt=Object(q.withStyles)(function(e){return{card:{display:"flex"},details:{display:"flex",flexDirection:"column"},content:{flex:"1 0 auto",textAlign:"left"},cover:{width:170,height:280},selectDiv:{display:"inline-block"},expansionPanel:{width:"100%"}}})(it),ot=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(c.a)(this,Object(u.a)(t).call(this,e))).state={query:"",items:[],loading:!1},a.classes=e,a.search=a.search.bind(Object(h.a)(Object(h.a)(a))),a.handleKeyPress=a.handleKeyPress.bind(Object(h.a)(Object(h.a)(a))),a.handleClick=a.handleClick.bind(Object(h.a)(Object(h.a)(a))),a}return Object(m.a)(t,e),Object(s.a)(t,[{key:"handleClick",value:function(e){e.preventDefault(),this.setState({items:[]}),this.search()}},{key:"handleKeyPress",value:function(e){console.log(e.key),"Enter"===e.key&&this.handleClick(e),this.setState({query:e.target.value.replace(/ /g,"").toLowerCase()})}},{key:"search",value:function(){var e=this,t="https://www.googleapis.com/books/v1/volumes?max-results=10&q=name:"+this.state.query+"&key=AIzaSyCalcsBPPiKqeweUkLttnlCX763LRP9jJ8";this.setState({loading:!0}),fetch(t,{method:"GET"}).then(function(e){return e.json()}).then(function(t){var a=t.items;for(var n in a){var i=a[n],r={id:i.id,title:i.volumeInfo.title,author:i.volumeInfo.authors?i.volumeInfo.authors[0]:"",thumbnail:i.volumeInfo.imageLinks?i.volumeInfo.imageLinks.thumbnail:"",isbn13:i.volumeInfo.industryIdentifiers&&i.volumeInfo.industryIdentifiers[0]?i.volumeInfo.industryIdentifiers[0].identifier:"",isbn10:i.volumeInfo.industryIdentifiers&&i.volumeInfo.industryIdentifiers[1]?i.volumeInfo.industryIdentifiers[1].identifier:"",snippet:i.searchInfo?i.searchInfo.textSnippet:""};e.setState({items:[].concat(Object(Y.a)(e.state.items),[r]),loading:!1})}}),console.log(this.state.items)}},{key:"render",value:function(){var e=this,t=this.state.items;return i.a.createElement("div",null,i.a.createElement(xe.d,{className:this.classes.container},i.a.createElement(xe.f,{variant:"h2",style:{padding:"20px 20px",textAlign:"left"}},"Choose a book"),i.a.createElement(xe.b,null),i.a.createElement(xe.c,{container:!0,spacing:8,direction:"column",alignItems:"center",style:{minHeight:"50vh"}},i.a.createElement(xe.c,{item:!0,xs:11},i.a.createElement("div",{className:this.classes.margin},i.a.createElement(Se,{id:"book-query",label:"Book lookup",className:this.classes.textField,onKeyUp:function(t){return e.handleKeyPress(t)},onClick:function(t){return e.handleClick(t)},margin:"normal",placeholder:"Enter a book title"})),i.a.createElement("div",{className:"container"},i.a.createElement(xe.c,{container:!0,spacing:8},t.map(function(e,t){return i.a.createElement(xe.c,{item:!0,xs:12,className:"gridItem"},i.a.createElement(rt,{title:e.title,author:e.author,thumbnail:e.thumbnail,isbn10:e.isbn10,isbn13:e.isbn13}))})))))))}}]),t}(n.Component),lt=Object(q.withStyles)(function(e){return{container:{display:"flex",flexWrap:"wrap"},textField:{align:"left",marginLeft:e.spacing.unit,marginRight:e.spacing.unit,width:200},dense:{marginTop:19},menu:{width:200},margin:{margin:e.spacing.unit,align:"down"},gridItem:{height:"100%",display:"inline-block"}}})(ot),st=[{path:"/",name:"Home",icon:J.a,component:Le},{path:"/new",name:"Add Listing",icon:V.a,component:lt},{path:"/account-detail",name:"Account Detail",icon:X.a,component:Pe}],ct=function(e){function t(){return Object(l.a)(this,t),Object(c.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return i.a.createElement("div",null,i.a.createElement(xe.f,{variant:"h1"},"Page not found!"))}}]),t}(n.Component),ut=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(c.a)(this,Object(u.a)(t).call(this,e))).handleDrawerToggle=function(){a.setState(function(e){return{mobileOpen:!e.mobileOpen}})},a.history=e.history,a.state={mobileOpen:!1,isSignedIn:!1},a.handleDrawerToggle=a.handleDrawerToggle.bind(Object(h.a)(Object(h.a)(a))),a}return Object(m.a)(t,e),Object(s.a)(t,[{key:"componentWillMount",value:function(){var e=this;ye.auth().onAuthStateChanged(function(t){e.setState({isSignedIn:!!t})})}},{key:"render",value:function(){var e=this,t=this.props,a=t.classes,n=t.theme,r=i.a.createElement("div",null,i.a.createElement("div",{className:a.toolbar}),i.a.createElement(x.a,null,st.map(function(t,a){return i.a.createElement(N.a,{button:!0,key:t.name,component:A.a,to:"/book-selling-augie"+t.path,history:e.history},i.a.createElement(t.icon,null),i.a.createElement(T.a,{primary:t.name}))})),i.a.createElement(v.a,null));return i.a.createElement("div",{className:a.root},i.a.createElement(f.a,null),i.a.createElement(b.a,{position:"fixed",className:a.appBar},i.a.createElement(z.a,null,i.a.createElement(B.a,{container:!0,justify:"space-between"},i.a.createElement(B.a,{item:!0},i.a.createElement(C.a,{color:"inherit","aria-label":"Open drawer",onClick:this.handleDrawerToggle,className:a.menuButton},i.a.createElement(K.a,null)),i.a.createElement(R.a,{variant:"h6",color:"inherit",noWrap:!0},"Augie Book Market")),this.state.isSignedIn?i.a.createElement(B.a,{item:!0},i.a.createElement(B.a,{container:!0,style:{display:"flex"},spacing:8},i.a.createElement(B.a,{item:!0},i.a.createElement(R.a,{variant:"h6",color:"inherit",noWrap:!0},"Signed in! Welcome"," ",ye.auth().currentUser.displayName)),i.a.createElement(B.a,{item:!0},i.a.createElement(D.a,{variant:"contained",color:"secondary"},"Log Out")))):i.a.createElement(B.a,{item:!0},i.a.createElement(D.a,{variant:"contained",color:"secondary"},"Sign In"))))),i.a.createElement("nav",{className:a.drawer},i.a.createElement(j.a,{smUp:!0,implementation:"css"},i.a.createElement(k.a,{container:this.props.container,variant:"temporary",anchor:"rtl"===n.direction?"right":"left",open:this.state.mobileOpen,onClose:this.handleDrawerToggle,classes:{paper:a.drawerPaper}},r)),i.a.createElement(j.a,{xsDown:!0,implementation:"css"},i.a.createElement(k.a,{classes:{paper:a.drawerPaper},variant:"permanent",open:!0},r))),i.a.createElement("main",{className:a.content},i.a.createElement("div",{className:a.toolbar}),i.a.createElement(F.c,null,st.map(function(e,t){return i.a.createElement(F.a,{key:t,path:"/book-selling-augie"+e.path,component:e.component})}),i.a.createElement(F.a,{to:"/book-selling-augie/not-found",component:ct}))))}}]),t}(i.a.Component),mt=Object(q.withStyles)(function(e){return{root:{display:"flex"},drawer:Object(d.a)({},e.breakpoints.up("sm"),{width:240,flexShrink:0}),appBar:Object(d.a)({marginLeft:240},e.breakpoints.up("sm"),{width:"calc(100% - ".concat(240,"px)")}),menuButton:Object(d.a)({marginRight:20},e.breakpoints.up("sm"),{display:"none"}),toolbar:e.mixins.toolbar,drawerPaper:{width:240},content:{flexGrow:1,padding:3*e.spacing.unit}}},{withTheme:!0})(ut),ht=a(35),dt=(a(651),function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(c.a)(this,Object(u.a)(t).call(this,e))).state={user:[]},a}return Object(m.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=Object(ht.a)();return i.a.createElement("div",{className:"App"},i.a.createElement(F.b,{history:e},i.a.createElement(mt,{history:e})))}}]),t}(n.Component));Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(i.a.createElement(dt,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[326,1,2]]]);
//# sourceMappingURL=main.2ade451f.chunk.js.map